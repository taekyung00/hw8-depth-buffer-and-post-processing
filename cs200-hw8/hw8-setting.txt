Directory: cs200-hw8
Files analyzed: 45

Estimated tokens: 27.0k

Directory structure:
└── cs200-hw8/
    ├── README.md
    ├── CMakeLists.txt
    ├── CMakePresets.json
    ├── .clang-format
    ├── app_resources/
    │   └── web/
    │       └── index_shell.html
    ├── Assets/
    │   └── shaders/
    │       ├── basic_vtx_clr_attribute.frag
    │       ├── pass_thru_pos2d_clr.vert
    │       ├── BatchRenderer2D/
    │       │   ├── quad.frag
    │       │   ├── quad.vert
    │       │   ├── sdf.frag
    │       │   └── sdf.vert
    │       ├── DemoBufferTypes/
    │       │   ├── background.frag
    │       │   ├── background.vert
    │       │   ├── villager.frag
    │       │   └── villager.vert
    │       ├── DemoTexturing/
    │       │   ├── combine.frag
    │       │   └── combine.vert
    │       ├── ImmediateRenderer2D/
    │       │   ├── quad.frag
    │       │   ├── quad.vert
    │       │   ├── sdf.frag
    │       │   └── sdf.vert
    │       ├── InstancedRenderer2D/
    │       │   ├── quad.frag
    │       │   ├── quad.vert
    │       │   ├── sdf.frag
    │       │   └── sdf.vert
    │       ├── PostProcess/
    │       │   ├── box-blur.frag
    │       │   ├── chromatic-aberration.frag
    │       │   ├── gamma-correct.frag
    │       │   ├── pixelize.frag
    │       │   ├── simple-texture.frag
    │       │   └── simple.vert
    │       └── shape/
    │           ├── shape.frag
    │           └── shape.vert
    ├── cmake/
    │   ├── CompilerWarnings.cmake
    │   ├── Dependencies.cmake
    │   ├── StandardProjectSettings.cmake
    │   └── dependencies/
    │       ├── DearImGUI.cmake
    │       ├── GLEW.cmake
    │       ├── GSL.cmake
    │       ├── OpenGL.cmake
    │       ├── SDL2.cmake
    │       └── STB.cmake
    ├── docs/
    │   ├── DebuggingWeb.md
    │   └── DevEnvironment.md
    └── source/
        └── CMakeLists.txt


================================================
FILE: README.md
================================================
# CS200 Computer Graphics I

## How to Build and Run

First Setup your [Development Environment](docs/DevEnvironment.md)

### Command Line Build

**Windows**

```sh
# configure / generate build files
cmake --preset windows-debug
cmake --preset windows-developer-release
cmake --preset windows-release
cmake --preset web-debug-on-windows

# Build exe
cmake --build --preset windows-debug
cmake --build --preset windows-developer-release
cmake --build --preset windows-release
cmake --build --preset web-debug-on-windows
```

**Linux**

```sh
# configure / generate build files
cmake --preset linux-debug
cmake --preset linux-developer-release
cmake --preset linux-release
cmake --preset web-debug
cmake --preset web-developer-release
cmake --preset web-release

# Build exe
cmake --build --preset linux-debug
cmake --build --preset linux-developer-release
cmake --build --preset linux-release
cmake --build --preset web-debug
cmake --build --preset web-developer-release
cmake --build --preset web-release
```

### Automated Build Script

For convenience, use the automated build script that handles all configurations:

```sh
python3 scripts/scan_build_project.py
```

See the script help for filtering options:

```sh
python3 scripts/scan_build_project.py --help
```

## Build Configurations

This project supports three distinct build configurations, each designed for different stages of development and deployment:

### **Debug Configuration**

- **Purpose**: Active development and debugging
- **Features**: 
  - Allows setting breakpoints to step through code line-by-line
  - No compiler optimizations (preserves variable values for debugging)
  - Console window for viewing debug output
  - All developer helper features enabled
- **Performance**: Slower execution, larger executable size
- **When to use**: When you need to debug issues or understand code flow

### **Developer-Release Configuration**

- **Purpose**: Testing with optimized performance while keeping developer tools
- **Features**:
  - Compiler optimizations enabled (faster execution)
  - Cannot set breakpoints (optimizations interfere with debugging)
  - Console window for viewing output
  - Verbose logging and error checking enabled
  - Developer assertions active
- **Performance**: Fast execution, optimized code
- **When to use**: Performance testing while retaining diagnostic capabilities

### **Release Configuration**

- **Purpose**: Final builds for end users
- **Features**:
  - Full compiler optimizations
  - No console window (clean user experience)
  - Minimal logging (only critical errors)
  - No developer features or extra error checking
  - Smallest executable size
- **Performance**: Maximum speed, production-ready
- **When to use**: Final builds for distribution to users

## CMake Presets

CMake presets simplify the build process by pre-configuring complex settings. Instead of manually specifying:

- Compiler flags and optimization levels
- Output directories and build paths  
- Platform-specific configurations
- Dependency locations
- Debug/release-specific settings

The presets handle all of this automatically. For example, `cmake --preset linux-debug` is equivalent to running:

```sh
cmake -S . -B build/linux-debug \
  -DCMAKE_BUILD_TYPE=Debug \
  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON \
  -DDEVELOPER_VERSION=ON \
  [... many more flags ...]
```

This saves time and reduces configuration errors, especially when working across different platforms and build types.



================================================
FILE: CMakeLists.txt
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology
cmake_minimum_required(VERSION 3.21)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_EXTENSIONS OFF)

# #  Helper to print out all environment variables
# get_cmake_property(_variableNames VARIABLES)
# list (SORT _variableNames)
# foreach (_variableName ${_variableNames})
#     message(STATUS "${_variableName}=${${_variableName}}")
# endforeach()

project(engine_porting)

include(cmake/StandardProjectSettings.cmake)

include(cmake/CompilerWarnings.cmake)
add_library(project_options INTERFACE)
target_compile_features(project_options INTERFACE cxx_std_20)
set_project_warnings(project_options)

include(cmake/Dependencies.cmake)

add_subdirectory(source)




================================================
FILE: CMakePresets.json
================================================
{
    "version": 3,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 21,
        "patch": 0
    },
    "configurePresets": [
        {
            "name": "conf-common",
            "description": "General settings that apply to all configurations",
            "hidden": true,
            "binaryDir": "${sourceDir}/build/${presetName}",
            "installDir": "${sourceDir}/build/install/${presetName}"
        },
        {
            "name": "conf-windows-common",
            "description": "Windows settings for MSBuild toolchain that apply to msvc and clang",
            "hidden": true,
            "inherits": "conf-common",
            "condition": {
                "type": "equals",
                "lhs": "${hostSystemName}",
                "rhs": "Windows"
            },
            "architecture": {
                "value": "x64",
                "strategy": "external"
            },
            "toolset": {
                "value": "host=x64",
                "strategy": "external"
            },
            "cacheVariables": {
                "CMAKE_C_COMPILER": "cl",
                "CMAKE_CXX_COMPILER": "cl"
            }
        },
        {
            "name": "conf-unixlike-common",
            "description": "Unix-like OS settings for gcc and clang toolchains",
            "hidden": true,
            "inherits": "conf-common",
            "generator": "Ninja",
            "condition": {
                "type": "inList",
                "string": "${hostSystemName}",
                "list": [
                    "Linux",
                    "Darwin"
                ]
            },
            "cacheVariables": {
                "CMAKE_C_COMPILER": "gcc",
                "CMAKE_CXX_COMPILER": "g++"
            }
        },
        {
            "name": "conf-web-common",
            "description": "Common Web/Emscripten configuration",
            "hidden": true,
            "inherits": "conf-unixlike-common",
            "generator": "Ninja",
            "toolchainFile": "~/emsdk/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
            "cacheVariables": {
                "CMAKE_C_COMPILER": "~/emsdk/upstream/emscripten/emcc",
                "CMAKE_CXX_COMPILER": "~/emsdk/upstream/emscripten/em++"
            }
        },
        {
            "name": "windows-debug",
            "displayName": "Windows Debug",
            "description": "Debug Build on Windows",
            "inherits": "conf-windows-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "windows-developer-release",
            "displayName": "Windows Developer Release",
            "description": "Optimized Developer Build on Windows",
            "inherits": "conf-windows-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "windows-release",
            "displayName": "Windows Release",
            "description": "Optimized User Facing Build on Windows",
            "inherits": "conf-windows-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "FALSE"
            }
        },
        {
            "name": "web-debug-on-windows",
            "displayName": "Web Debug on Windows",
            "description": "Debug Build on Web for Windows",
            "inherits": "conf-common",
            "condition": {
                "type": "equals",
                "lhs": "${hostSystemName}",
                "rhs": "Windows"
            },
            "generator": "Ninja",
            "toolchainFile": "$env{USERPROFILE}/emsdk/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
            "cacheVariables": {
                "CMAKE_C_COMPILER": "$env{USERPROFILE}/emsdk/upstream/emscripten/emcc",
                "CMAKE_CXX_COMPILER": "$env{USERPROFILE}/emsdk/upstream/emscripten/em++",
                "CMAKE_BUILD_TYPE": "Debug",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "linux-debug",
            "displayName": "Linux Debug",
            "description": "Debug Build on Linux",
            "inherits": "conf-unixlike-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "linux-developer-release",
            "displayName": "Linux Developer Release",
            "description": "Optimized Developer Build on Linux",
            "inherits": "conf-unixlike-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "linux-release",
            "displayName": "Linux Release",
            "description": "Optimized User Facing Build on Linux",
            "inherits": "conf-unixlike-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "FALSE"
            }
        },
        {
            "name": "web-debug",
            "displayName": "Web Debug",
            "description": "Debug Build on Web",
            "inherits": "conf-web-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "web-developer-release",
            "displayName": "Web Developer Release",
            "description": "Optimized Developer Build on Web",
            "inherits": "conf-web-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "TRUE"
            }
        },
        {
            "name": "web-release",
            "displayName": "Web Release",
            "description": "Optimized User Facing Build on Web",
            "inherits": "conf-web-common",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "IS_DEVELOPER_VERSION": "FALSE"
            }
        }
    ],
    "buildPresets": [
        {
            "name": "build-windows-common",
            "description": "Windows build settings",
            "hidden": true,
            "condition": {
                "type": "equals",
                "lhs": "${hostSystemName}",
                "rhs": "Windows"
            }
        },
        {
            "name": "build-unixlike-common",
            "description": "Unix-like build settings",
            "hidden": true,
            "condition": {
                "type": "inList",
                "string": "${hostSystemName}",
                "list": [
                    "Linux",
                    "Darwin"
                ]
            }
        },
        {
            "name": "windows-debug",
            "configurePreset": "windows-debug",
            "inherits": "build-windows-common",
            "configuration": "Debug"
        },
        {
            "name": "windows-developer-release",
            "configurePreset": "windows-developer-release",
            "inherits": "build-windows-common",
            "configuration": "RelWithDebInfo"
        },
        {
            "name": "windows-release",
            "configurePreset": "windows-release",
            "inherits": "build-windows-common",
            "configuration": "Release"
        },
        {
            "name": "web-debug-on-windows",
            "configurePreset": "web-debug-on-windows",
            "inherits": "build-windows-common",
            "configuration": "Debug"
        },
        {
            "name": "linux-debug",
            "configurePreset": "linux-debug",
            "inherits": "build-unixlike-common",
            "configuration": "Debug"
        },
        {
            "name": "linux-developer-release",
            "configurePreset": "linux-developer-release",
            "inherits": "build-unixlike-common",
            "configuration": "RelWithDebInfo"
        },
        {
            "name": "linux-release",
            "configurePreset": "linux-release",
            "inherits": "build-unixlike-common",
            "configuration": "Release"
        },
        {
            "name": "web-debug",
            "configurePreset": "web-debug",
            "inherits": "build-unixlike-common",
            "configuration": "Debug"
        },
        {
            "name": "web-developer-release",
            "configurePreset": "web-developer-release",
            "inherits": "build-unixlike-common",
            "configuration": "RelWithDebInfo"
        },
        {
            "name": "web-release",
            "configurePreset": "web-release",
            "inherits": "build-unixlike-common",
            "configuration": "Release"
        }
    ]
}



================================================
FILE: .clang-format
================================================
# clang-format version 14
Language : Cpp
Standard : Latest

AccessModifierOffset: -4
AlignAfterOpenBracket: AlwaysBreak
AlignArrayOfStructures: Right
AlignConsecutiveAssignments: AcrossComments
AlignConsecutiveBitFields: AcrossEmptyLinesAndComments
AlignConsecutiveDeclarations: AcrossComments
AlignConsecutiveMacros: AcrossComments
AlignEscapedNewlines: Right
AlignOperands: Align
AlignTrailingComments: true
AllowAllArgumentsOnNextLine: true
AllowAllParametersOfDeclarationOnNextLine: true
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: true
AllowShortEnumsOnASingleLine: true
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLambdasOnASingleLine: Inline
AllowShortLoopsOnASingleLine: false
AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: false
AlwaysBreakTemplateDeclarations: Yes
BinPackArguments: true
BinPackParameters: true
BitFieldColonSpacing: Both
BreakAfterJavaFieldAnnotations: true
BreakBeforeBinaryOperators: None
BreakBeforeBraces: Allman
BreakBeforeConceptDeclarations: true
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
BreakStringLiterals: false
ColumnLimit: 200
CompactNamespaces: true
ContinuationIndentWidth: 4
Cpp11BracedListStyle: false
DeriveLineEnding: true
DerivePointerAlignment: false
EmptyLineAfterAccessModifier: Leave
EmptyLineBeforeAccessModifier: LogicalBlock
FixNamespaceComments: false
IncludeBlocks: Preserve
IndentAccessModifiers: false
IndentCaseBlocks: true
IndentCaseLabels: true
IndentExternBlock: NoIndent
IndentGotoLabels: false
IndentPPDirectives: AfterHash
IndentRequires: false
IndentWidth: 4
IndentWrappedFunctionNames: true
KeepEmptyLinesAtTheStartOfBlocks: false
LambdaBodyIndentation: Signature
MaxEmptyLinesToKeep: 2
NamespaceIndentation: All
PPIndentWidth: -1
PackConstructorInitializers: BinPack
PointerAlignment: Left
# QualifierOrder: ['static', 'constexpr', 'inline', 'const', 'type' ]
ReferenceAlignment: Left
ReflowComments: true
SeparateDefinitionBlocks: Always
SortIncludes: CaseSensitive
SortUsingDeclarations: true
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceBeforeCaseColon: false
SpaceBeforeCpp11BracedList: false
SpaceBeforeCtorInitializerColon: true
SpaceBeforeInheritanceColon: true
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: true
SpaceBeforeSquareBrackets: false
SpaceInEmptyBlock: true
SpaceInEmptyParentheses: false
SpacesInAngles: Never
SpacesInCStyleCastParentheses: false
SpacesInConditionalStatement: false
SpacesInContainerLiterals: false
SpacesInParentheses: false
SpacesInSquareBrackets: false
TabWidth: 4
UseCRLF: false
UseTab: true



================================================
FILE: app_resources/web/index_shell.html
================================================
<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="icon" href="https://www.digipen.edu/themes/custom/digipen_future/favicon.ico"
        type="image/vnd.microsoft.icon" />
    <title>DigiPen Programming Fun</title>
    <meta name="description" content="Computer Programming Fun for DigiPen classes">

    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <style>
        body {
            overflow-y: hidden;
            overflow-x: hidden;
            margin: 0;
            background-color: #FFFFFF;
            -webkit-font-smoothing: subpixel-antialiased;
            font-smoothing: subpixel-antialiased;
        }

        #main-container {
            font-size: 12px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        }

        .emscripten {
            padding: 0;
            margin: 0;
            display: block;
            width: 100%;
            height: 100%;
            background: transparent;
            background-color: #00000000;
        }

        canvas.emscripten {
            border: 0px none;
            background: transparent;
            background-color: #00000000;
        }

        #description {
            margin: 10px;
            padding: 10px;
            color: #000000;
        }
    </style>
</head>

<body>
    <div id="main-container">
        <div id="description" align="center">
            <h2>DigiPen Korea Graphics I</h2>

            <div id="container_status" align="center">
                Loading - please wait ..
            </div>
        </div>
        <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
    </div>

    <script type='text/javascript'>
        // Set background image via JavaScript
        function setBackgroundImage() {
            document.body.style.backgroundImage = "url('data:image/svg+xml;base64,\
PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGFyaWEtbGFiZWxsZWRieT0ibG9nb190aXRsZSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pbllNaW4gbWVldCIgdmlld0JveD0iMCAyOTAuNSA2MTMuNSAyMTEiPgogIDx0aXRsZT5EaWdpUGVuIEluc3RpdHV0ZSBvZiBUZWNobm9sb2d5PC90aXRsZT4KICA8cGF0aCBkPSJNMTEzLjMgMzk2LjZhMzcgMzcgMCAwIDAgMzcuNC0zNi43YzAtMjAtMTcuMS0zNi43LTM4LjEtMzYuN0g4NS4zdjczLjFoMjcuOHYuM2guMnptLTc0IDczLjZhMzcgMzcgMCAwIDEtMzcuNC0zNi42QTM3LjYgMzcuNiAwIDAgMSAzOS44IDM5N2gyNy4zdjczLjFIMzkuM3YuMXptMzIuMi0xNDcuMWg5Ljd2MTQ3LjFoLTkuN3ptMzE3LjEgMTguOGMwIDIuNi0yLjYgNC42LTUuNiA0LjZoLTE1Yy0zLjEgMC01LjYtMi4xLTUuNi00LjZ2LTcuN2MwLTIuNiAyLjYtNC42IDUuNi00LjZoMTVjMy4xIDAgNS42IDIuMSA1LjYgNC42djcuN3ptLTI2LjUgOC45aDI2LjV2NjMuNmgtMjYuNXptLTgwLjItOC45YzAgMi42LTIuNiA0LjYtNS42IDQuNmgtMTVjLTMuMSAwLTUuOC0yLjEtNS44LTQuNnYtNy43YzAtMi42IDIuNi00LjYgNS44LTQuNmgxNWMzLjEgMCA1LjYgMi4xIDUuNiA0LjZ2Ny43em0tMjYuNiA4LjloMjYuNXY2My42aC0yNi41ek00NzEuOCAzMzljLTMuMS01LTcuNS04LjktMTIuOC0xMS42YTQxLjQgNDEuNCAwIDAgMC0xOC42LTQuMUgzOTh2OTEuMmgyNi4zVjM4N2gxOC4zYzQuOCAwIDkuMS0uOSAxMy4yLTIuNiAzLjktMS43IDcuNy0zLjkgMTAuOS02LjggMy4xLTIuOSA1LjYtNi4yIDcuMi0xMC40IDEuNy0zLjkgMi42LTcgMi42LTExLjRhMzYuNyAzNi43IDAgMCAwLTQuNy0xNi44bS0zNS40IDI3LjJoLTEydi0yMS40aDExLjhjNiAwIDEwLjkgNC44IDEwLjkgMTAuNi40IDYtNC42IDEwLjgtMTAuNyAxMC44bTE3Mi45LTguNmEyMS4xIDIxLjEgMCAwIDAtOS42LTcuOSAzOC4xIDM4LjEgMCAwIDAtMTQuNC0yLjdoLTM5LjV2NjcuNWgyNi41di0zNy42YzAtNC44IDIuMS02LjggNi43LTYuOCA0LjggMCA2LjcgMi4xIDYuNyA2Ljh2MzcuOWgyNi41di00NC45Yy41LTQuNy0uNS05LTIuOS0xMi4zbS02OSAyOS40Yy4zLTIuMS43LTQuMy43LTYuNWEzMy41IDMzLjUgMCAwIDAtMzMuMS0zMy43Yy0xOC41IDAtMzMuMSAxNS0zMy4xIDMzLjcgMCAxOC42IDE0LjkgMzQgMzMuMSAzNCAxMi41IDAgMjMuNC03IDI4LjktMTcuNGgtMjIuOWMtNS44IDAtMTAuNi0xLjQtMTAuNi03LjVWMzg3aDM3em0tMzcuMS0xMy44di0xLjdjMC00LjggMy44LTguNyA4LjItOC43IDQuOCAwIDguMiAzLjkgOC4yIDguNXYxLjdsLTE2LjQuMnptLTIwNSA2OS4yaDIzLjdjNy4yIDAgMTMuOC0yLjYgMTkuMy02LjcgNy4yLTUuOCAxMi0xNC45IDEyLTI0Ljl2LTYxLjNoLTMwLjhhNDMgNDMgMCAwIDAtMTMuMiAyLjIgMzYgMzYgMCAwIDAtMTAuNiA2LjcgMzEuOCAzMS44IDAgMCAwIDMuOCA0OC41YzEgLjcgMS45IDEuMiAyLjcgMS45IDQuMSAyLjYgOC45IDMuOSAxMy43IDQuMWg3djEuNWMwIDEuNy0uMyAyLjYtMSAzLjItMS43IDIuNi01IDMuMi05LjEgMy4yaC0xOC4xYy42LjYuNiAyMS42LjYgMjEuNnptMjUuMS03Mi41aDcuNXYyMGgtNy43Yy01LjYgMC0xMC4xLTQuNi0xMC4xLTkuOSAwLTUuNiA0LjUtMTAuMSAxMC4zLTEwLjFtLTgxLjUtMjMuNGMtNC4xLTctOS43LTEyLjYtMTcuMS0xNi43LTctNC4xLTE0LjktNi4yLTIyLjktNi4yaC0zNi4xdjkwLjdoMzcuNGM1LjMgMCAxMC45LTEuMiAxNi43LTMuOGE1NCA1NCAwIDAgMCAxNC45LTkuNyA0MSA0MSAwIDAgMCA5LjktMTQuNyA0NS41IDQ1LjUgMCAwIDAgMy4yLTE3LjFjLjUtNy44LTEuNi0xNS4zLTYtMjIuNW0tMjEuOSAyOC45Yy0xIDIuMS0yLjIgMy45LTMuOSA1LjZhMTcuMiAxNy4yIDAgMCAxLTUuOCAzLjhjLTIuMiAxLTQuMyAxLjQtNi41IDEuNGgtMTIuOHYtMzQuN0gyMDNjMy4xIDAgNi4yLjkgOC45IDIuNiAyLjcgMS43IDUgMy44IDYuNyA2LjVzMi42IDUuNiAyLjYgOC43Yy4zIDEuOC0uNCA0LjEtMS4zIDYuMW0tNTMuNSA3NC4zaDIuOVY0NzBoLTIuOXptMjguMiAwaC0yLjR2MTUuOGwtMTMuNi0xNS44aC0yLjR2MjAuMmgyLjV2LTE1LjRsMTMuNyAxNS40aDIuMnptMTcgMS4yYTcuNiA3LjYgMCAwIDAtNC42LTEuNGMtMy44IDAtNi4yIDIuMS02LjIgNS4zIDAgNS4zIDguNyA2IDguNyAxMC4xIDAgMS0xIDIuNi0zLjIgMi42LTEuOSAwLTMuOS0xLTUuMy0yLjl2My44YTkuNyA5LjcgMCAwIDAgNS42IDEuOWMzLjIgMCA1LjYtMi4yIDUuNi01LjMgMC02LjUtOC43LTYuNS04LjctMTAuNCAwLTEuNCAxLjItMi42IDMuMi0yLjYgMS4yIDAgMy4xLjMgNC44IDIuMWwuMS0zLjJ6bTIxLjMtMS4yaC0xNi43djIuNmg2Ljh2MTcuNmgyLjl2LTE3LjZoN3ptNS41IDBoMi45VjQ3MGgtMi45em0yNC45IDBoLTE2Ljl2Mi42aDd2MTcuNmgyLjl2LTE3LjZoN3ptMjIuMiAwaC0yLjl2MTEuOGMwIDEuOS0uMiAzLjItMS4yIDQuMy0xIDEtMi42IDEuNy00LjggMS43LTEuOSAwLTMuMi0uMy00LjMtMS45LTEtMS0xLjItMS45LTEuMi00LjF2LTEyaC0yLjl2MTIuNmMwIDUuMyA0LjEgNy45IDguMiA3LjkgNiAwIDkuMS0zLjIgOS4xLTguMnYtMTIuMXptMjEuNyAwaC0xNi45djIuNmg3djE3LjZoMi45di0xNy42aDd6bTE2LjYgMGgtMTEuNHYyMC4yaDExLjd2LTIuNmgtOC44VjQ2MWg4LjN2LTIuNmgtOC4zdi02LjFoOC41em0xOC42IDEwLjFjMC00LjYgMy4yLTcuNyA3LjktNy43IDQuNiAwIDcuOSAzLjIgNy45IDcuNyAwIDQuMy0zLjIgNy43LTcuOSA3LjdhNy42IDcuNiAwIDAgMS03LjktNy43bS0yLjkgMGMwIDUuMyA0LjEgMTAuNCAxMC44IDEwLjQgNi44IDAgMTAuOS01IDEwLjktMTAuNCAwLTUuNi00LjEtMTAuNC0xMC45LTEwLjQtNi41LjItMTAuOCA0LjgtMTAuOCAxMC40bTM4LjUtMTAuMWgtMTAuOHYyMC4yaDIuOXYtOS4yaDcuOXYtMi44aC03Ljl2LTUuNmg3Ljl6bTI3LjggMGgtMTYuOXYyLjZoN3YxNy42aDIuOXYtMTcuNmg3em0xNi42IDBoLTExLjN2MjAuMmgxMS44di0yLjZINDE0VjQ2MWg4LjR2LTIuNkg0MTR2LTYuMWg4LjR6bTIzLjQgMS40Yy0yLjctMS00LjgtMS43LTYuOC0xLjctNi41IDAtMTEuMSA0LjYtMTEuMSAxMC42IDAgNC4xIDMuMiAxMC4xIDEwLjkgMTAuMSAzLjIgMCA1LjMtLjkgNy41LTEuOVY0NjVhMTMuNyAxMy43IDAgMCAxLTcgMi4yYy00LjggMC04LjItMy4xLTguMi03LjdzMy4yLTcuNyA4LTcuN2MyLjYgMCA0LjYuNyA2LjggMi4xdi0yLjdoLS4xem0yMy4xLTEuNGgtMi44djguOWgtMTEuNHYtOC45aC0yLjl2MjAuMmgyLjl2LTguNmgxMS40djguNmgyLjh6bTI1LjggMGgtMi44djE1LjhsLTEzLjYtMTUuOEg0NzZ2MjAuMmgyLjZ2LTE1LjRsMTMuNyAxNS40aDIuNHptOSAxMC4xYzAtNC42IDMuMi03LjcgNy45LTcuN3M3LjkgMy4yIDcuOSA3LjdjMCA0LjMtMy4yIDcuNy03LjkgNy43YTcuNSA3LjUgMCAwIDEtNy45LTcuN20tMi45IDBjMCA1LjMgNC4xIDEwLjQgMTAuOCAxMC40IDYuOCAwIDEwLjktNSAxMC45LTEwLjQgMC01LjYtNC4xLTEwLjQtMTAuOC0xMC40LTYuOC4yLTEwLjkgNC44LTEwLjkgMTAuNG0zMC42LTEwLjFoLTIuOXYyMC4yaDExLjl2LTIuNmgtOXptMTYuMSAxMC4xYzAtNC42IDMuMi03LjcgNy45LTcuN3M3LjkgMy4yIDcuOSA3LjdjMCA0LjMtMy4yIDcuNy03LjkgNy43YTcuNiA3LjYgMCAwIDEtNy45LTcuN20tMyAwYzAgNS4zIDQuMSAxMC40IDEwLjggMTAuNCA2LjggMCAxMC45LTUgMTAuOS0xMC40IDAtNS42LTQuMS0xMC40LTEwLjgtMTAuNC02LjYgMC0xMC45IDQuOC0xMC45IDEwLjRtNDUuNy4yaC02Ljh2Mi42aDMuOXY0LjFjLTEuNC4zLTIuNy45LTQuMy45LTQuOCAwLTguMi0zLjItOC4yLTcuNyAwLTQuMyAzLjItNy43IDcuOS03LjcgMi42IDAgNC44LjcgNy4yIDEuOXYtMi45Yy0zLjItMS4yLTQuOC0xLjktNy4yLTEuOS02LjIgMC0xMC44IDQuNi0xMC44IDEwLjZzNC42IDEwLjQgMTAuOCAxMC40YzIuNyAwIDUtLjMgNy43LTEuN1Y0NjBoLS4yem0xMy4zLTMuMy01LjUtN2gtMy42bDcuNyA5LjR2MTAuOGgyLjl2LTEwLjRsNy40LTkuOEg2MDl6Ii8+Cjwvc3ZnPgo=')";
            document.body.style.backgroundRepeat = "no-repeat";
            document.body.style.backgroundPosition = "center center";
            document.body.style.backgroundAttachment = "fixed";
            document.body.style.backgroundSize = "contain";
        }

        // Remove background image when Emscripten is loaded
        function removeBackgroundImage() {
            document.body.style.backgroundImage = "none";
        }

        // Set background image on page load
        setBackgroundImage();

        var isInitialized = false;
        var failedToInitialize = false;

        function updateWindowSize() {
            var w = window,
                d = document,
                e = d.documentElement,
                g = d.getElementsByTagName('body')[0],
                x = w.innerWidth || e.clientWidth || g.clientWidth,
                y = w.innerHeight || e.clientHeight || g.clientHeight;
            Module.setWindowSize(x, y);
        }

        window.setInterval(function () {
            if (isInitialized == false) return;

            updateWindowSize();

        }, 500);

        function onkeydown(event) {
            if (event.ctrlKey ||
                (event.keyCode >= 112 && event.keyCode <= 123)) {
                event.stopImmediatePropagation();
                return;
            }

            if (event.keyCode == 8 || // Backspace
                event.keyCode == 9 || // Tab
                event.keyCode == 46 || // Delete
                (event.keyCode >= 37 && event.keyCode <= 40)) { // Arrow keys
                event.preventDefault();
            }
        }

        function init() {
            document.getElementById('container_status').innerHTML = "WebAssembly module initialized successfully!"
            document.getElementById('container_status').style.color = "#00ff00";

            window.addEventListener('keydown', onkeydown, true);
            // This enables our app to get keyboard focus when displayed through an iframe
            // https://supernapie.com/blog/keyboard-focus-in-an-iframe/
            window.addEventListener('load', function () {
                window.focus();
                document.body.addEventListener('click', function (e) {
                    window.focus();
                }, false);
            });

            if (isInitialized == false) {
                updateWindowSize();
                isInitialized = true;
            }
            {
                var status = document.getElementById("description");
                status.hidden = true;
            }
            
            // Remove background image once Emscripten is fully loaded and displaying
            removeBackgroundImage();
        }

        function getQueryParam(parameterName) {
            const queryParams = new URLSearchParams(window.location.search);
            return queryParams.get(parameterName);
        }

        function buildCommandLineArguments() {
            var param = getQueryParam('start')
            if (param)
                return ['--start', param]
            return []
        }

        var Module = {
            arguments: buildCommandLineArguments(),
            preRun: [(function () { })],
            postRun: [(function () {
                if (failedToInitialize) return;
                init();
            })],
            canvas: (function () {
                var canvas = document.getElementById('canvas');
                canvas.addEventListener("webglcontextlost", function (e) {
                    alert('WebGL context lost. You will need to reload the page.'); e.preventDefault();
                }, false);
                return canvas;
            })(),
            print: function (text) {
                text = Array.prototype.slice.call(arguments).join(' ');
                console.log(text);
            },
            printErr: function (text) {
                text = Array.prototype.slice.call(arguments).join(' ');
                console.error(text);
            },
            setStatus: function (text) {
                if (text) {
                    console.log("html module status: " + text);
                }
            }
        };

        window.onerror = function (event) {
            failedToInitialize = true;
            let reason = JSON.stringify(event);
            console.log("onerror: " + reason);
            document.getElementById('container_status').innerHTML = reason;
            document.getElementById('container_status').innerHTML += '<br>This browser is not supported. Please try a different browser';
            document.getElementById('container_status').style.color = "#ff0000";
        };
    </script>

    {{{ SCRIPT }}}
</body>

</html>



================================================
FILE: Assets/shaders/basic_vtx_clr_attribute.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

in vec3 vColor;

layout(location = 0) out vec4 FragColor;

void main()
{
    FragColor = vec4(vColor, 1.0);
}



================================================
FILE: Assets/shaders/pass_thru_pos2d_clr.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec3 aVertexColor;

out vec3 vColor;

void main()
{
    gl_Position = vec4(aVertexPosition, 0.0, 1.0);
    vColor      = aVertexColor;
}



================================================
FILE: Assets/shaders/BatchRenderer2D/quad.frag
================================================
#version 300 es
/*****/
precision mediump float;

/**
* \file
* \author Rudy Castan
* \date 2025 Fall
* \par CS200 Computer Graphics I
* \copyright DigiPen Institute of Technology
*/

//every GPU have different amount limit of texture
//have to ask to OpenGL, in fragment shader, programically
#ifndef MAX_TEXTURE_SLOTS
#define MAX_TEXTURE_SLOTS 8// we will ask opengl programically
#endif

uniform sampler2D uTextures[MAX_TEXTURE_SLOTS];//'' : array size must be a constant integer expression

in vec2 vTexCoord;
flat in vec4 vTint;
flat in int vTextureIndex;
layout(location=0)out vec4 FragColor;

void main()
{
    // FragColor = texture(uTextures[vTextureIndex], vTexCoord) * vTint;
    //300es version need to use constexpr index so..
    vec4 tex_color;
    
    switch(vTextureIndex){
        case 0:tex_color=texture(uTextures[0],vTexCoord);break;
        
        case 1:tex_color=texture(uTextures[1],vTexCoord);break;
        
        #if MAX_TEXTURE_SLOTS>2
        case 2:tex_color=texture(uTextures[2],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>3
        case 3:tex_color=texture(uTextures[3],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>4
        case 4:tex_color=texture(uTextures[4],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>5
        case 5:tex_color=texture(uTextures[5],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>6
        case 6:tex_color=texture(uTextures[6],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>7
        case 7:tex_color=texture(uTextures[7],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>8
        case 8:tex_color=texture(uTextures[8],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>9
        case 9:tex_color=texture(uTextures[9],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>10
        case 10:tex_color=texture(uTextures[10],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>11
        case 11:tex_color=texture(uTextures[11],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>12
        case 12:tex_color=texture(uTextures[12],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>13
        case 13:tex_color=texture(uTextures[13],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>14
        case 14:tex_color=texture(uTextures[14],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>15
        case 15:tex_color=texture(uTextures[15],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>16
        case 16:tex_color=texture(uTextures[16],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>17
        case 17:tex_color=texture(uTextures[17],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>18
        case 18:tex_color=texture(uTextures[18],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>19
        case 19:tex_color=texture(uTextures[19],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>20
        case 20:tex_color=texture(uTextures[20],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>21
        case 21:tex_color=texture(uTextures[21],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>22
        case 22:tex_color=texture(uTextures[22],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>23
        case 23:tex_color=texture(uTextures[23],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>24
        case 24:tex_color=texture(uTextures[24],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>25
        case 25:tex_color=texture(uTextures[25],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>26
        case 26:tex_color=texture(uTextures[26],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>27
        case 27:tex_color=texture(uTextures[27],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>28
        case 28:tex_color=texture(uTextures[28],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>29
        case 29:tex_color=texture(uTextures[29],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>30
        case 30:tex_color=texture(uTextures[30],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>31
        case 31:tex_color=texture(uTextures[31],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>32
        case 32:tex_color=texture(uTextures[32],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>33
        case 33:tex_color=texture(uTextures[33],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>34
        case 34:tex_color=texture(uTextures[34],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>35
        case 35:tex_color=texture(uTextures[35],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>36
        case 36:tex_color=texture(uTextures[36],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>37
        case 37:tex_color=texture(uTextures[37],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>38
        case 38:tex_color=texture(uTextures[38],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>39
        case 39:tex_color=texture(uTextures[39],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>40
        case 40:tex_color=texture(uTextures[40],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>41
        case 41:tex_color=texture(uTextures[41],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>42
        case 42:tex_color=texture(uTextures[42],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>43
        case 43:tex_color=texture(uTextures[43],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>44
        case 44:tex_color=texture(uTextures[44],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>45
        case 45:tex_color=texture(uTextures[45],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>46
        case 46:tex_color=texture(uTextures[46],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>47
        case 47:tex_color=texture(uTextures[47],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>48
        case 48:tex_color=texture(uTextures[48],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>49
        case 49:tex_color=texture(uTextures[49],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>50
        case 50:tex_color=texture(uTextures[50],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>51
        case 51:tex_color=texture(uTextures[51],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>52
        case 52:tex_color=texture(uTextures[52],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>53
        case 53:tex_color=texture(uTextures[53],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>54
        case 54:tex_color=texture(uTextures[54],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>55
        case 55:tex_color=texture(uTextures[55],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>56
        case 56:tex_color=texture(uTextures[56],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>57
        case 57:tex_color=texture(uTextures[57],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>58
        case 58:tex_color=texture(uTextures[58],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>59
        case 59:tex_color=texture(uTextures[59],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>60
        case 60:tex_color=texture(uTextures[60],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>61
        case 61:tex_color=texture(uTextures[61],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>62
        case 62:tex_color=texture(uTextures[62],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>63
        case 63:tex_color=texture(uTextures[63],vTexCoord);break;
        #endif
    }
    tex_color*=vTint;
    
    FragColor=tex_color;
    
    if(FragColor.a==0.)
    discard;
}



================================================
FILE: Assets/shaders/BatchRenderer2D/quad.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aWorldPosition;
layout(location = 1) in vec2 aTexCoord;
layout(location = 2) in vec4 aTint;
layout(location = 3) in int aTextureIndex;
layout(location = 4) in float aDepth;

out vec2 vTexCoord;
//by default, any output variable interpolated
//but vTint has to be same across the triangle(for each pixels)
//so put flat
flat out vec4 vTint;
flat out int vTextureIndex;

// uniform mat3 uModel; //get rid of it so that cpu do this 
// uniform mat3 uToNDC; //instead using uniformblock
layout(std140) uniform NDC
{
    mat3 uToNDC;
};

// uniform mat3 uTexCoordTransform; //get rid of it so that cpu do this 

/**
why give model xform task to CPU?
we have lots of vertex(duplicated)
it is more 
*/

void main()
{
    vec3 ndc_point = uToNDC * /* uModel * */ vec3(aWorldPosition, 1.0); //we assume that vertex position is already in world space(we dont need model xformation)
    gl_Position = vec4(ndc_point.xy, aDepth, 1.0);
    vTexCoord = aTexCoord.st;//don't need texcoord xform anymore, just copy
    vTint = aTint;
    vTextureIndex = aTextureIndex;
}



================================================
FILE: Assets/shaders/BatchRenderer2D/sdf.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 * (Batch Renderer Version)
 */

// 1. Receive all uniforms as 'in' variables
in vec2 vTestPoint;
flat in vec4 vFillColor;
flat in vec4 vLineColor;
flat in vec2 vWorldSize;
flat in float vLineWidth;
flat in int vShape;

layout(location = 0) out vec4 FragColor;

// --- sdCircle, sdRectangle functions are identical to the original ---
float sdCircle( vec2 p, float r )
{
    return length(p) - r;
}

float sdRectangle( vec2 point, vec2 half_dim )
{
    vec2 d = abs(point)-half_dim;
    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);
}

// 2. Modify evalute_color function to use 'v' (in) variables instead of uniforms
vec4 evalute_color(float sdf)
{
    float fill_alpha = (sdf < 0.0) ? 1.0 : 0.0;
    // 'uLineWidth' -> 'vLineWidth'
    float outline_alpha = (abs(sdf) < vLineWidth * 0.5) ? 1.0 : 0.0; 

    // 'uFillColor' -> 'vFillColor'
    vec4 fill_color = vec4(vFillColor.rgb, fill_alpha * vFillColor.a);
    // 'uLineColor' -> 'vLineColor'
    vec4 line_color = vec4(vLineColor.rgb, outline_alpha * vLineColor.a);

    return mix(fill_color,line_color,line_color.a);
}

void main()
{
    float sdf = 0.0;
    
    // 3. Check 'vShape' (from vertex) instead of 'uShape' (uniform)
    if(vShape == 0){ // This pixel belongs to a Circle
        // 'uWorldSize' -> 'vWorldSize'
        float radius = min(vWorldSize.x ,vWorldSize.y) * 0.5; 
        sdf = sdCircle(vTestPoint, radius);
    }
    else if(vShape == 1){ // This pixel belongs to a Rectangle
        // 'uWorldSize' -> 'vWorldSize'
        sdf = sdRectangle(vTestPoint, 0.5 * vWorldSize); 
    }
    
    vec4 color = evalute_color(sdf);
    if(color.a <= 0.0 )
        discard;
    FragColor = color;
}


================================================
FILE: Assets/shaders/BatchRenderer2D/sdf.vert
================================================
#version 300 es

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 * (Batch Renderer Version)
 */

// 1. Receive all per-object data as attributes
layout(location = 0) in vec2 aWorldPosition;  // World coordinates calculated on the CPU
layout(location = 1) in vec2 aTestPoint;      // vTestPoint calculated on the CPU
layout(location = 2) in vec4 aFillColor;
layout(location = 3) in vec4 aLineColor;
layout(location = 4) in vec2 aWorldSize;
layout(location = 5) in float aLineWidth;
layout(location = 6) in int aShape;
layout(location = 7) in float aDepth;

// 2. Common UBO (Camera)
layout(std140) uniform NDC
{
    mat3 uToNDC;
};

// 3. Variables to pass to the Fragment Shader
out vec2 vTestPoint;
flat out vec4 vFillColor;
flat out vec4 vLineColor;
flat out vec2 vWorldSize;
flat out float vLineWidth;
flat out int vShape;

void main()
{
    // 4. Use the pre-calculated aWorldPosition, same as the Batch Texture Shader
    vec3 ndc_point = uToNDC * vec3(aWorldPosition, 1.0); 
    gl_Position = vec4(ndc_point.xy, aDepth, 1.0);

    // 5. Pass all attributes directly to the Fragment Shader
    vTestPoint = aTestPoint;
    vFillColor = aFillColor;
    vLineColor = aLineColor;
    vWorldSize = aWorldSize;
    vLineWidth = aLineWidth;
    vShape = aShape;
}


================================================
FILE: Assets/shaders/DemoBufferTypes/background.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

in vec3 vColor;

layout(location = 0) out vec4 FragColor;

void main()
{
    FragColor = vec4(vColor, 1.0);
}



================================================
FILE: Assets/shaders/DemoBufferTypes/background.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec3 aVertexColor;

out vec3 vColor;

layout(std140) uniform NDC
{
    mat3 uToNDC;
};

void main()
{
    gl_Position = vec4((uToNDC * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vColor      = aVertexColor;
}



================================================
FILE: Assets/shaders/DemoBufferTypes/villager.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

in vec3 vColor;

layout(location = 0) out vec4 FragColor;

void main()
{
    FragColor = vec4(vColor, 1.0);
}



================================================
FILE: Assets/shaders/DemoBufferTypes/villager.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec3 aVertexColor;

layout(std140) uniform NDC
{
    mat3 uToNDC;
};

uniform mat3 uModel;

out vec3 vColor;

void main()
{
    vec3 ndc_point = uToNDC * uModel * vec3(aVertexPosition, 1.0);
    gl_Position    = vec4(ndc_point.xy, 0.0, 1.0);
    vColor         = aVertexColor;
}



================================================
FILE: Assets/shaders/DemoTexturing/combine.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

in vec3 vColor;
in vec2 vTextureCoordinates;

layout(location = 0) out vec4 fFragClr;

uniform sampler2D uTex2d;
uniform float     uModulateColor;
uniform float     uProcTex;
uniform float     uTileSize;
uniform float     uUseImage;
uniform bool      uUseTextureAlpha;

const vec4 cyan = vec4(1.0, 0.0, 1.0, 1.0);
const vec4 teal = vec4(0.0, 0.68, 0.94, 1.0);

void main()
{
    vec4 interpolated_color = mix(vec4(1.0), vec4(vColor, 1.0), uModulateColor);
    vec4 procedural_color   = mix(vec4(1.0), (0.0 == mod(floor(gl_FragCoord.x / uTileSize) + floor(gl_FragCoord.y / uTileSize), 2.0)) ? cyan : teal, uProcTex);
    vec4 texture_color      = mix(vec4(1.0), texture(uTex2d, vTextureCoordinates), uUseImage);
    if (!uUseTextureAlpha)
    {
        texture_color.a = 1.0;
    }

    fFragClr = interpolated_color * procedural_color * texture_color;
}



================================================
FILE: Assets/shaders/DemoTexturing/combine.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec3 aVertexColor;
layout(location = 2) in vec2 aVertexTextureCoordinates;

out vec3 vColor;
out vec2 vTextureCoordinates;

uniform float uTexCoordScale;

uniform mat3 uToNDC;
uniform mat3 uModel;

void main()
{
    vec3 ndc_position   = uToNDC * uModel * vec3(aVertexPosition, 1.0);
    gl_Position         = vec4(ndc_position.xy, 0.0, 1.0);
    vColor              = aVertexColor;
    vTextureCoordinates = aVertexTextureCoordinates * uTexCoordScale;
}



================================================
FILE: Assets/shaders/ImmediateRenderer2D/quad.frag
================================================
#version 300 es
precision         mediump float;

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

uniform sampler2D uTex2d;

in vec2 vTexCoord;

layout(location = 0) out vec4 fFragClr;

uniform vec4 uTint; //  cover with new color

//use all variable!!!!!!!!!!!!!!
void main()
{
    fFragClr = texture(uTex2d, vTexCoord) * uTint;

    if(fFragClr.a == 0.0)
    discard;
}




================================================
FILE: Assets/shaders/ImmediateRenderer2D/quad.vert
================================================
#version 300 es

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */


layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec2 aTexCoord;


out vec2 vTexCoord;

layout(std140) uniform NDC
{
    mat3 uToNDC;
};

uniform mat3 uModel;
uniform mat3 uTexCoordTransform; //for drawing just part of image
uniform float uDepth;

void main()
{
    vec3 ndc_position   = uToNDC * uModel * vec3(aVertexPosition, 1.0);
    gl_Position         = vec4(ndc_position.xy, uDepth, 1.0);
    vec3 tex_coords = uTexCoordTransform * vec3(aTexCoord,1.0);
    vTexCoord = tex_coords.st ;
}



================================================
FILE: Assets/shaders/ImmediateRenderer2D/sdf.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

in vec2 vTestPoint;

layout(location = 0) out vec4 FragColor;

uniform vec4 uFillColor;
uniform vec4 uLineColor;
uniform vec2 uWorldSize;
uniform float uLineWidth;
uniform int uShape;

float sdCircle( vec2 p, float r )
{
    return length(p) - r;
}

float sdRectangle( vec2 point, vec2 half_dim )
{
    vec2 d = abs(point)-half_dim;
    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);
}

//evalute the color based off sdf
vec4 evalute_color(float sdf)
{
    float fill_alpha = (sdf < 0.0) ? 1.0 : 0.0;
    float outline_alpha = (abs(sdf) < uLineWidth * 0.5) ? 1.0 : 0.0;

    vec4 fill_color = vec4(uFillColor.rgb, fill_alpha * uFillColor.a);//modulate,mix
    vec4 line_color = vec4(uLineColor.rgb, outline_alpha * uLineColor.a);//modulate,mix

    return mix(fill_color,line_color,line_color.a);
}

void main()
{
    //based off shape evaluate the sdf
    float sdf = 0.0;
    if(uShape == 0){
        float radius = min(uWorldSize.x ,uWorldSize.y) * 0.5;
        sdf = sdCircle(vTestPoint, radius);
    }
    else if(uShape == 1){
        sdf = sdRectangle(vTestPoint, 0.5 * uWorldSize);
    }
    
    //get the color
    vec4 color = evalute_color(sdf);
    if(color.a <= 0.0 )
        discard;
    //set color, discard empty space
    FragColor = color;
}



================================================
FILE: Assets/shaders/ImmediateRenderer2D/sdf.vert
================================================
#version 300 es
/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;

uniform mat3 uModel;
layout(std140) uniform NDC
{
    mat3 uToNDC;
};
uniform vec2 uSDFScale;

out vec2 vTestPoint;

uniform float uDepth;
void main()
{
    vec3 ndc_point = uToNDC * uModel * vec3(aVertexPosition,1.0);
    gl_Position = vec4(ndc_point.xy, uDepth, 1.0);
    vTestPoint = aVertexPosition * uSDFScale; //scale
}



================================================
FILE: Assets/shaders/InstancedRenderer2D/quad.frag
================================================
#version 300 es
/*****/
precision mediump float;

/**
* \file
* \author Rudy Castan
* \date 2025 Fall
* \par CS200 Computer Graphics I
* \copyright DigiPen Institute of Technology
*/

//every GPU have different amount limit of texture
//have to ask to OpenGL, in fragment shader, programically
#ifndef MAX_TEXTURE_SLOTS
#define MAX_TEXTURE_SLOTS 8// we will ask opengl programically
#endif

uniform sampler2D uTextures[MAX_TEXTURE_SLOTS];//'' : array size must be a constant integer expression
// we have to treat this uTextures as MAX_TEXTURE_SLOTS uniform variables
//have to set their binding index

in vec2 vTexCoord;
flat in vec4 vTint;
flat in int vTextureIndex;
layout(location=0)out vec4 FragColor;

void main()
{
    // FragColor = texture(uTextures[vTextureIndex], vTexCoord) * vTint;
    //300es version need to use constexpr index so..
    vec4 tex_color;
    
    switch(vTextureIndex){
        case 0:tex_color=texture(uTextures[0],vTexCoord);break;
        
        case 1:tex_color=texture(uTextures[1],vTexCoord);break;
        
        #if MAX_TEXTURE_SLOTS>2
        case 2:tex_color=texture(uTextures[2],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>3
        case 3:tex_color=texture(uTextures[3],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>4
        case 4:tex_color=texture(uTextures[4],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>5
        case 5:tex_color=texture(uTextures[5],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>6
        case 6:tex_color=texture(uTextures[6],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>7
        case 7:tex_color=texture(uTextures[7],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>8
        case 8:tex_color=texture(uTextures[8],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>9
        case 9:tex_color=texture(uTextures[9],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>10
        case 10:tex_color=texture(uTextures[10],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>11
        case 11:tex_color=texture(uTextures[11],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>12
        case 12:tex_color=texture(uTextures[12],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>13
        case 13:tex_color=texture(uTextures[13],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>14
        case 14:tex_color=texture(uTextures[14],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>15
        case 15:tex_color=texture(uTextures[15],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>16
        case 16:tex_color=texture(uTextures[16],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>17
        case 17:tex_color=texture(uTextures[17],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>18
        case 18:tex_color=texture(uTextures[18],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>19
        case 19:tex_color=texture(uTextures[19],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>20
        case 20:tex_color=texture(uTextures[20],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>21
        case 21:tex_color=texture(uTextures[21],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>22
        case 22:tex_color=texture(uTextures[22],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>23
        case 23:tex_color=texture(uTextures[23],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>24
        case 24:tex_color=texture(uTextures[24],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>25
        case 25:tex_color=texture(uTextures[25],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>26
        case 26:tex_color=texture(uTextures[26],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>27
        case 27:tex_color=texture(uTextures[27],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>28
        case 28:tex_color=texture(uTextures[28],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>29
        case 29:tex_color=texture(uTextures[29],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>30
        case 30:tex_color=texture(uTextures[30],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>31
        case 31:tex_color=texture(uTextures[31],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>32
        case 32:tex_color=texture(uTextures[32],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>33
        case 33:tex_color=texture(uTextures[33],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>34
        case 34:tex_color=texture(uTextures[34],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>35
        case 35:tex_color=texture(uTextures[35],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>36
        case 36:tex_color=texture(uTextures[36],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>37
        case 37:tex_color=texture(uTextures[37],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>38
        case 38:tex_color=texture(uTextures[38],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>39
        case 39:tex_color=texture(uTextures[39],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>40
        case 40:tex_color=texture(uTextures[40],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>41
        case 41:tex_color=texture(uTextures[41],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>42
        case 42:tex_color=texture(uTextures[42],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>43
        case 43:tex_color=texture(uTextures[43],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>44
        case 44:tex_color=texture(uTextures[44],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>45
        case 45:tex_color=texture(uTextures[45],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>46
        case 46:tex_color=texture(uTextures[46],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>47
        case 47:tex_color=texture(uTextures[47],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>48
        case 48:tex_color=texture(uTextures[48],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>49
        case 49:tex_color=texture(uTextures[49],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>50
        case 50:tex_color=texture(uTextures[50],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>51
        case 51:tex_color=texture(uTextures[51],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>52
        case 52:tex_color=texture(uTextures[52],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>53
        case 53:tex_color=texture(uTextures[53],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>54
        case 54:tex_color=texture(uTextures[54],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>55
        case 55:tex_color=texture(uTextures[55],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>56
        case 56:tex_color=texture(uTextures[56],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>57
        case 57:tex_color=texture(uTextures[57],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>58
        case 58:tex_color=texture(uTextures[58],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>59
        case 59:tex_color=texture(uTextures[59],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>60
        case 60:tex_color=texture(uTextures[60],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>61
        case 61:tex_color=texture(uTextures[61],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>62
        case 62:tex_color=texture(uTextures[62],vTexCoord);break;
        #endif
        #if MAX_TEXTURE_SLOTS>63
        case 63:tex_color=texture(uTextures[63],vTexCoord);break;
        #endif
    }
    tex_color*=vTint;
    
    FragColor=tex_color;
    
    if(FragColor.a==0.)
    discard;
}



================================================
FILE: Assets/shaders/InstancedRenderer2D/quad.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

//per vertex
layout(location = 0) in vec2 aModelPosition;
layout(location = 1) in vec2 aTexCoord;

//per instance
layout(location = 2) in vec3 aModelRow0;
layout(location = 3) in vec3 aModelRow1;
layout(location = 4) in vec4 aTint;
layout(location = 5) in vec2 aTexCoordScale;
layout(location = 6) in vec2 aTexCoordOffset;
layout(location = 7) in int  aTextureIndex;
layout(location = 8) in float aDepth;

out vec2 vTexCoord;
//by default, any output variable interpolated
//but vTint has to be same across the triangle(for each pixels)
//so put flat
flat out vec4 vTint;
flat out int vTextureIndex;

// uniform mat3 uModel; //get rid of it so that cpu do this 
layout(std140) uniform NDC
{
    mat3 uToNDC;
};
// uniform mat3 uTexCoordTransform; //get rid of it so that cpu do this 

/**
why give model xform task to CPU?
we have lots of vertex(duplicated)
it is more 
*/

void main()
{
    vec2 world_position;
    world_position.x = aModelPosition.x * aModelRow0[0] + aModelPosition.y * aModelRow0[1] + aModelRow0[2];
    world_position.y = aModelPosition.x * aModelRow1[0] + aModelPosition.y * aModelRow1[1] + aModelRow1[2];
    vec3 ndc_point = uToNDC * /* uModel * */ vec3(world_position, 1.0); //we assume that vertex position is already in world space(we dont need model xformation)
    gl_Position = vec4(ndc_point.xy, aDepth, 1.0);
    vTexCoord = aTexCoord * aTexCoordScale + aTexCoordOffset; //get atlas of texture if need
    vTint = aTint;
    vTextureIndex = aTextureIndex;
}



================================================
FILE: Assets/shaders/InstancedRenderer2D/sdf.frag
================================================
#version 300 es
precision mediump float;

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 * (Batch Renderer Version)
 */

// 1. Receive all uniforms as 'in' variables
in vec2 vTestPoint;
flat in vec4 vFillColor;
flat in vec4 vLineColor;
flat in vec2 vWorldSize;
flat in float vLineWidth;
flat in int vShape;

layout(location = 0) out vec4 FragColor;

// --- sdCircle, sdRectangle functions are identical to the original ---
float sdCircle( vec2 p, float r )
{
    return length(p) - r;
}

float sdRectangle( vec2 point, vec2 half_dim )
{
    vec2 d = abs(point)-half_dim;
    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);
}

// 2. Modify evalute_color function to use 'v' (in) variables instead of uniforms
vec4 evalute_color(float sdf)
{
    float fill_alpha = (sdf < 0.0) ? 1.0 : 0.0;
    // 'uLineWidth' -> 'vLineWidth'
    float outline_alpha = (abs(sdf) < vLineWidth * 0.5) ? 1.0 : 0.0; 

    // 'uFillColor' -> 'vFillColor'
    vec4 fill_color = vec4(vFillColor.rgb, fill_alpha * vFillColor.a);
    // 'uLineColor' -> 'vLineColor'
    vec4 line_color = vec4(vLineColor.rgb, outline_alpha * vLineColor.a);

    return mix(fill_color,line_color,line_color.a);
}

void main()
{
    float sdf = 0.0;
    
    // 3. Check 'vShape' (from vertex) instead of 'uShape' (uniform)
    if(vShape == 0){ // This pixel belongs to a Circle
        // 'uWorldSize' -> 'vWorldSize'
        float radius = min(vWorldSize.x ,vWorldSize.y) * 0.5; 
        sdf = sdCircle(vTestPoint, radius);
    }
    else if(vShape == 1){ // This pixel belongs to a Rectangle
        // 'uWorldSize' -> 'vWorldSize'
        sdf = sdRectangle(vTestPoint, 0.5 * vWorldSize); 
    }
    
    vec4 color = evalute_color(sdf);
    if(color.a <= 0.0 )
        discard;
    FragColor = color;
}


================================================
FILE: Assets/shaders/InstancedRenderer2D/sdf.vert
================================================
#version 300 es

/**
 * \file
 * \author Taekyung Ho
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 * (Batch Renderer Version)
 */


layout(location = 0) in vec2 aModelPosition;

layout(location = 1) in vec3 aModelRow0;
layout(location = 2) in vec3 aModelRow1;
// layout(location = 3) in vec2 aTestPoint;      // vTestPoint doesn't calculated in CPU anymore, but instead in here!!
layout(location = 3) in vec4 aFillColor;
layout(location = 4) in vec4 aLineColor;
layout(location = 5) in vec2 aWorldSize;
layout(location = 6) in float aLineWidth;
layout(location = 7) in int aShape;
layout(location = 8) in float aDepth;


layout(std140) uniform NDC
{
    mat3 uToNDC;
};


out vec2 vTestPoint;
flat out vec4 vFillColor;
flat out vec4 vLineColor;
flat out vec2 vWorldSize;
flat out float vLineWidth;
flat out int vShape;

void main()
{
    vec2 world_position;
    world_position.x = aModelPosition.x * aModelRow0[0] + aModelPosition.y * aModelRow0[1] + aModelRow0[2];
    world_position.y = aModelPosition.x * aModelRow1[0] + aModelPosition.y * aModelRow1[1] + aModelRow1[2];
    vec3 ndc_point = uToNDC * vec3(world_position, 1.0); 
    gl_Position = vec4(ndc_point.xy, aDepth, 1.0); // Use 1 depth for SDF


    // vTestPoint = aTestPoint;
    // vTestPoint = aModelPosition * aWorldSize;
    vec2 quadSize = aWorldSize + vec2(aLineWidth);
    vTestPoint = aModelPosition * quadSize;
    vFillColor = aFillColor;
    vLineColor = aLineColor;
    vWorldSize = aWorldSize;
    vLineWidth = aLineWidth;
    vShape = aShape;
}


================================================
FILE: Assets/shaders/PostProcess/box-blur.frag
================================================
#version 300 es
precision mediump float;
/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */
uniform sampler2D uColorTexture;
in vec2 vTexCoord;
layout(location = 0) out vec4 FragColor;

uniform int uBlurSize;
uniform float uSeparation;

void main()
{
    FragColor = texture(uColorTexture, vTexCoord);
    if(uBlurSize <= 0){
        return;
    }
    vec2 tex_size = vec2(textureSize(uColorTexture, 0));
    FragColor = vec4(vec3(0.0), FragColor.a);
    // -size to +size, (2*size+1) * (2*size+1)
    for(int i = -uBlurSize; i <= uBlurSize; ++i)
    {
        for(int j = -uBlurSize; j < uBlurSize; ++j)
        {
            vec2 offset = vec2(i,j) * uSeparation / tex_size;
            FragColor.rgb += texture(uColorTexture, vTexCoord+offset).rgb;
        }
    }
    float count = (2.0*float(uBlurSize)+1.0);
    count *= count;
    FragColor.rgb /= count;
}


================================================
FILE: Assets/shaders/PostProcess/chromatic-aberration.frag
================================================
#version 300 es
precision mediump float;
/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */
uniform sampler2D uColorTexture;
in vec2 vTexCoord;
layout(location = 0) out vec4 FragColor;

uniform vec2 uMouseFocusPoint; // measure in texture coords 0-1

void main()
{
    float red_offset = 0.009;
    float green_offset = 0.006;
    float blue_offset = -0.006;
    vec2 direction = vTexCoord - uMouseFocusPoint;
    FragColor.r = texture(uColorTexture, vTexCoord + (direction*vec2(red_offset))).r;
    FragColor.g = texture(uColorTexture, vTexCoord + (direction*vec2(green_offset))).g;
    FragColor.b = texture(uColorTexture, vTexCoord + (direction*vec2(blue_offset))).b;
    FragColor.a = texture(uColorTexture, vTexCoord).a;

}


================================================
FILE: Assets/shaders/PostProcess/gamma-correct.frag
================================================
#version 300 es
precision mediump float;
/**
 * \file
 * \author Jonathan Holmes
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */
uniform sampler2D uColorTexture;
in vec2 vTexCoord;
layout(location = 0) out vec4 FragColor;

uniform float uGamma;

void main()
{
    FragColor = texture(uColorTexture, vTexCoord);
    FragColor.rgb = pow(FragColor.rgb, vec3(uGamma));
}



================================================
FILE: Assets/shaders/PostProcess/pixelize.frag
================================================
#version 300 es
precision mediump float;
/**
 * \file
 * \author Taekyung HoeWhore
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */
uniform sampler2D uColorTexture;
in vec2 vTexCoord;
layout(location = 0) out vec4 FragColor;

uniform int pixelSize;

void main() {
    FragColor = texture(uColorTexture, vTexCoord);

  // Must be odd.
  if(pixelSize % 2 == 0 || pixelSize <= 1) 
    return;

  vec2 tex_size = vec2(textureSize(uColorTexture, 0));
  vec2 texCoord = gl_FragCoord.xy / tex_size;


  float x = float(int(gl_FragCoord.x) % pixelSize);
  float y = float(int(gl_FragCoord.y) % pixelSize);

        x = floor(float(pixelSize) / 2.0) - x;
        y = floor(float(pixelSize) / 2.0) - y;

        x = gl_FragCoord.x + x;
        y = gl_FragCoord.y + y;

  vec2 uv = vec2(x, y) / tex_size;

  FragColor = texture(uColorTexture, uv);
}


================================================
FILE: Assets/shaders/PostProcess/simple-texture.frag
================================================
#version 300 es

precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

uniform sampler2D uColorTexture;

in vec2 vTexCoord;

layout(location = 0) out vec4 FragColor;

void main()
{
    FragColor = texture(uColorTexture, vTexCoord);
}



================================================
FILE: Assets/shaders/PostProcess/simple.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aVertexPosition;
layout(location = 1) in vec2 aTexCoord;

out vec2 vTexCoord;

void main()
{
    // Vertices are already in NDC space, just pass through
    gl_Position = vec4(aVertexPosition, 0.0, 1.0);
    vTexCoord   = aTexCoord;
}



================================================
FILE: Assets/shaders/shape/shape.frag
================================================
#version 300 es

precision mediump float;

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

uniform sampler2D uTexture;
uniform vec4 uTint;

in vec2 vTexCoord;


layout(location = 0) out vec4 FragColor;

void main()
{
    vec4 tex_color = texture(uTexture, vTexCoord);
    FragColor = tex_color * uTint;
}



================================================
FILE: Assets/shaders/shape/shape.vert
================================================
#version 300 es

/**
 * \file
 * \author Rudy Castan
 * \date 2025 Fall
 * \par CS200 Computer Graphics I
 * \copyright DigiPen Institute of Technology
 */

layout(location = 0) in vec2 aPosition;
layout(location = 1) in vec2 aTexCoord;
// layout(location = 2) in vec4 aTint;

out vec2 vTexCoord;
// out vec4 vTint;

layout(std140) uniform NDC
{
    mat3 uToNDC;
};
uniform mat3 uTransform;
uniform float uDepth;

void main()
{
    // Apply transform matrix to position
    vec3 transformed_pos = uTransform * vec3(aPosition, 1.0);
    
    // Apply NDC matrix
    vec3 ndc_point = uToNDC * transformed_pos;
    
    gl_Position = vec4(ndc_point.xy, uDepth, 1.0);
    vTexCoord = aTexCoord;
    // vTint = aTint;
}



================================================
FILE: cmake/CompilerWarnings.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

# from here:
#
# https://github.com/lefticus/cppbestpractices/blob/master/02-Use_the_Tools_Available.md

function(set_project_warnings project_name)
  option(WARNINGS_AS_ERRORS "Treat compiler warnings as errors" TRUE)

  set(MSVC_WARNINGS
      /W4 # Baseline reasonable warnings
      /w14242 # 'identifier': conversion from 'type1' to 'type1', possible loss
              # of data
      /w14254 # 'operator': conversion from 'type1:field_bits' to
              # 'type2:field_bits', possible loss of data
      /w14263 # 'function': member function does not override any base class
              # virtual member function
      /w14265 # 'classname': class has virtual functions, but destructor is not
              # virtual instances of this class may not be destructed correctly
      /w14287 # 'operator': unsigned/negative constant mismatch
      /we4289 # nonstandard extension used: 'variable': loop control variable
              # declared in the for-loop is used outside the for-loop scope
      /w14296 # 'operator': expression is always 'boolean_value'
      /w14311 # 'variable': pointer truncation from 'type1' to 'type2'
      /w14545 # expression before comma evaluates to a function which is missing
              # an argument list
      /w14546 # function call before comma missing argument list
      /w14547 # 'operator': operator before comma has no effect; expected
              # operator with side-effect
      /w14549 # 'operator': operator before comma has no effect; did you intend
              # 'operator'?
      /w14555 # expression has no effect; expected expression with side- effect
      /w14619 # pragma warning: there is no warning number 'number'
      /w14640 # Enable warning on thread un-safe static member initialization
      /w14826 # Conversion from 'type1' to 'type_2' is sign-extended. This may
              # cause unexpected runtime behavior.
      /w14905 # wide string literal cast to 'LPSTR'
      /w14906 # string literal cast to 'LPWSTR'
      /w14928 # illegal copy-initialization; more than one user-defined
              # conversion has been implicitly applied
      /permissive- # standards conformance mode for MSVC compiler.
      /wd4201 # warning C4201 : nonstandard extension used : nameless struct / union
  )

  set(CLANG_WARNINGS
      -Wall
      -Wextra # reasonable and standard
      -Wshadow # warn the user if a variable declaration shadows one from a
               # parent context
      $<$<COMPILE_LANGUAGE:CXX>:-Wnon-virtual-dtor> # warn the user if a class with virtual functions has a
                         # non-virtual destructor. This helps catch hard to
                         # track down memory errors
      $<$<COMPILE_LANGUAGE:CXX>:-Wold-style-cast> # warn for c-style casts
      -Wcast-align # warn for potential performance problem casts
      -Wunused # warn on anything being unused
      $<$<COMPILE_LANGUAGE:CXX>:-Woverloaded-virtual> # warn if you overload (not override) a virtual
                           # function
      -Wpedantic # warn if non-standard C++ is used
      -Wconversion # warn on type conversions that may lose data
      -Wsign-conversion # warn on sign conversions
      -Wnull-dereference # warn if a null dereference is detected
      -Wdouble-promotion # warn if float is implicit promoted to double
      -Wformat=2 # warn on security issues around functions that format output
                 # (ie printf)
    #   -Wno-gnu-anonymous-struct # allow anonymous-struct
    #   -Wno-nested-anon-types
  )

  if (WARNINGS_AS_ERRORS)
    set(CLANG_WARNINGS ${CLANG_WARNINGS} -Werror)
    set(MSVC_WARNINGS ${MSVC_WARNINGS} /WX)
  endif()

  set(GCC_WARNINGS
      ${CLANG_WARNINGS}
      -Wmisleading-indentation # warn if indentation implies blocks where blocks
                               # do not exist
      -Wduplicated-cond # warn if if / else chain has duplicated conditions
      -Wduplicated-branches # warn if if / else branches have duplicated code
      -Wlogical-op # warn about logical operations being used where bitwise were
                   # probably wanted
      $<$<COMPILE_LANGUAGE:CXX>:-Wuseless-cast> # warn if you perform a cast to the same type
  )

  if(MSVC)
    set(PROJECT_WARNINGS ${MSVC_WARNINGS})
  elseif(CMAKE_CXX_COMPILER_ID MATCHES ".*Clang")
    set(PROJECT_WARNINGS ${CLANG_WARNINGS})
  elseif(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    set(PROJECT_WARNINGS ${GCC_WARNINGS})
  else()
    message(AUTHOR_WARNING "No compiler warnings set for '${CMAKE_CXX_COMPILER_ID}' compiler.")
  endif()

  target_compile_options(${project_name} INTERFACE ${PROJECT_WARNINGS})

endfunction()



================================================
FILE: cmake/Dependencies.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

include(FetchContent)

include(cmake/dependencies/OpenGL.cmake)    #defines target the_opengl
include(cmake/dependencies/GLEW.cmake)      # defines target the_glew
include(cmake/dependencies/SDL2.cmake)      # defines target the_sdl2
include(cmake/dependencies/DearImGUI.cmake) # defines target the_imgui   ;  note DearImGUI.cmake depends on SDL2.cmake
include(cmake/dependencies/GSL.cmake)       # defines target the_gsl
include(cmake/dependencies/STB.cmake)       # defines target the_stb

add_library(dependencies INTERFACE)

target_link_libraries(dependencies INTERFACE 
    the_opengl
    the_glew
    the_sdl2
    the_imgui
    the_gsl
    the_stb
)



================================================
FILE: cmake/StandardProjectSettings.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

include(FetchContent)
set(FETCHCONTENT_QUIET TRUE)
set(CMAKE_VERBOSE_MAKEFILE OFF)

# https://cmake.org/cmake/help/latest/policy/CMP0135.html
if(POLICY CMP0135)
  cmake_policy(SET CMP0135 NEW)
endif()

# Set a default build type if none was specified
if(NOT CMAKE_BUILD_TYPE)
  message(STATUS "Setting build type to 'Release' as none was specified.")
  set(CMAKE_BUILD_TYPE
      Release
      CACHE STRING "Choose the type of build." FORCE)
  
endif()

if(NOT CMAKE_CONFIGURATION_TYPES)
# Set the possible values of build type for cmake-gui, ccmake
  set_property(
    CACHE CMAKE_BUILD_TYPE
    PROPERTY STRINGS
             "Debug"
             "Release"
             "MinSizeRel"
             "RelWithDebInfo")
endif()

# Generate compile_commands.json to make it easier to work with clang based tools
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# Put exe targets into the root of the build folder
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})
foreach(config ${CMAKE_CONFIGURATION_TYPES})
    string(TOUPPER ${config} config_upper)
    set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_${config_upper} ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
endforeach()



================================================
FILE: cmake/dependencies/DearImGUI.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

# Depends on SDL2 and OpenGL

FetchContent_Declare(
    dearimgui
    GIT_REPOSITORY https://github.com/ocornut/imgui.git
    GIT_TAG a28cb615ff2c2ed8901397b00762d557cae24760 # latest from docking branch as of 8/22/2025
)
FetchContent_MakeAvailable(dearimgui)

add_library(the_imgui STATIC
    ${dearimgui_SOURCE_DIR}/imgui.cpp ${dearimgui_SOURCE_DIR}/imgui.h
    ${dearimgui_SOURCE_DIR}/imconfig.h ${dearimgui_SOURCE_DIR}/imgui_internal.h
    ${dearimgui_SOURCE_DIR}/imgui_draw.cpp
    ${dearimgui_SOURCE_DIR}/imgui_tables.cpp
    ${dearimgui_SOURCE_DIR}/imgui_widgets.cpp
    ${dearimgui_SOURCE_DIR}/backends/imgui_impl_opengl3.cpp ${dearimgui_SOURCE_DIR}/backends/imgui_impl_opengl3.h
    ${dearimgui_SOURCE_DIR}/backends/imgui_impl_sdl2.cpp
    ${dearimgui_SOURCE_DIR}/backends/imgui_impl_sdl2.h
)

target_include_directories(the_imgui SYSTEM PUBLIC ${dearimgui_SOURCE_DIR} ${dearimgui_SOURCE_DIR}/backends)
target_link_libraries(the_imgui PRIVATE the_sdl2)



================================================
FILE: cmake/dependencies/GLEW.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

# We will use GLEW for OpenGL bindings
# Linux platforms have a very easy way to install these depenencies and expose them to compilers so,
#   we will use the builtin find_package
# Emscripten has their own port of GLEW builtin. We don't even need to specify any flags.
#   Windows does not have a simple way to get it, so we download official windows binaries and link against those


add_library(the_glew INTERFACE)

if(NOT WIN32 AND NOT EMSCRIPTEN)
    # on    Mac : brew install glew
    # on Ubuntu : apt install libglew-dev
    set(GLEW_STATIC_LIBS TRUE)
    find_package(GLEW REQUIRED)
    target_link_libraries(the_glew INTERFACE ${GLEW_STATIC_LIBRARIES} $<$<PLATFORM_ID:Linux>:GL>)
    target_include_directories(the_glew SYSTEM INTERFACE ${GLEW_INCLUDE_DIRS})
elseif(WIN32)
    # download binaries for GLEW for windows x64
    FetchContent_Declare(
        glew
        DOWNLOAD_EXTRACT_TIMESTAMP TRUE
        URL "https://github.com/nigels-com/glew/releases/download/glew-2.2.0/glew-2.2.0-win32.zip"
    )
    FetchContent_MakeAvailable(glew)

    target_link_directories(the_glew INTERFACE ${glew_SOURCE_DIR}/lib/Release/x64)
    target_link_libraries(the_glew INTERFACE glew32s) # note that is the name of the glew32s.lib file we need to link in
    target_include_directories(the_glew SYSTEM INTERFACE ${glew_SOURCE_DIR}/include)
    target_compile_definitions(the_glew INTERFACE GLEW_STATIC)
endif()



================================================
FILE: cmake/dependencies/GSL.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

FetchContent_Declare(
    gsl
    DOWNLOAD_EXTRACT_TIMESTAMP TRUE
    URL https://github.com/microsoft/GSL/archive/refs/tags/v4.2.0.tar.gz
    URL_HASH MD5=5f3d2f7ef9c6351503c0c8f1f9390144
)
FetchContent_MakeAvailable(gsl)

add_library(the_gsl INTERFACE)
target_include_directories(the_gsl SYSTEM INTERFACE ${gsl_SOURCE_DIR}/include)



================================================
FILE: cmake/dependencies/OpenGL.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

# most platforms should have OpenGL already available
# debian linux : libgl1-mesa-dev (not that installing GLEW installs this as a dependency)
find_package(OpenGL REQUIRED)

add_library(the_opengl INTERFACE)
target_link_libraries(the_opengl INTERFACE ${OPENGL_LIBRARIES})

if(EMSCRIPTEN)
    # We want WebGL 2
    # WebGL 2 is almost the same as OpenGL ES 3 which is almost the same as OpenGL 3.3
    # MIN_WEBGL_VERSION=2           - Specifies the lowest WebGL version to target. Pass MIN_WEBGL_VERSION=2 to drop support for WebGL 1.0
    # MAX_WEBGL_VERSION=2           - Specifies the highest WebGL version to target. Pass -sMAX_WEBGL_VERSION=2 to enable targeting WebGL 2.
    # https://emscripten.org/docs/porting/multimedia_and_graphics/OpenGL-support.html
    
    target_link_options(the_opengl INTERFACE -sMIN_WEBGL_VERSION=2 -sMAX_WEBGL_VERSION=2)
    target_compile_definitions(the_opengl INTERFACE IS_WEBGL2)

endif()




================================================
FILE: cmake/dependencies/SDL2.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

# We will be using SDL2 for windowing & gl context creation
# Linux platforms have a very easy way to install these depenencies and expose them to compilers so,
#   we will use the builtin find_package
# Emscripten has their own port of SDL2 builtin. We can just #include, define --use-port=sdl2, and start using it.
#   Windows does not have a simple way to get it, so we download official windows binaries and link against those

add_library(the_sdl2 INTERFACE)

if(WIN32)
    # download binaries for SDL2 for windows x64
    FetchContent_Declare(
        sdl2
        DOWNLOAD_EXTRACT_TIMESTAMP TRUE
        URL https://github.com/libsdl-org/SDL/releases/download/release-2.32.8/SDL2-devel-2.32.8-VC.zip
        URL_HASH MD5=13172db35a91f3baac59e47187a2ebbb
    )
    FetchContent_MakeAvailable(sdl2)

    target_include_directories(the_sdl2 SYSTEM INTERFACE ${sdl2_SOURCE_DIR}/include)

    target_link_directories(the_sdl2 INTERFACE ${sdl2_SOURCE_DIR}/lib/x64)
    target_link_libraries(the_sdl2 INTERFACE SDL2)
    target_compile_definitions(the_sdl2 INTERFACE SDL_MAIN_HANDLED)

    # Define a custom target to copy SDL2.dll to the build directory
    set(TEMP_EXE_FOLDER $<IF:$<BOOL:${CMAKE_RUNTIME_OUTPUT_DIRECTORY}>,${CMAKE_RUNTIME_OUTPUT_DIRECTORY},${CMAKE_BINARY_DIR}>)
    add_custom_target(copy_sdl2_dll
    COMMAND ${CMAKE_COMMAND} -E copy
            ${sdl2_SOURCE_DIR}/lib/x64/SDL2.dll
            ${TEMP_EXE_FOLDER}/SDL2.dll
            DEPENDS ${sdl2_SOURCE_DIR}/lib/x64/SDL2.dll
            COMMENT "Copying SDL2.dll to executable directory"
    )
    add_dependencies(the_sdl2 copy_sdl2_dll)
else()
    if(EMSCRIPTEN)
        # --use-port=sdl2                     - we want version 2 rather than SDL1
        # https://emscripten.org/docs/tools_reference/settings_reference.html?highlight=use_sdl#use-sdl
        target_compile_options(the_sdl2 INTERFACE --use-port=sdl2)
        target_link_options(the_sdl2 INTERFACE --use-port=sdl2)
    else()
        # on    Mac : brew install sdl2
        # on Ubuntu : apt install libsdl2-dev
        find_package(SDL2 REQUIRED)
        target_include_directories(the_sdl2 SYSTEM INTERFACE ${SDL2_INCLUDE_DIRS})
        target_link_libraries(the_sdl2 INTERFACE ${SDL2_LIBRARIES})
    endif()
endif()



================================================
FILE: cmake/dependencies/STB.cmake
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

FetchContent_Declare(
    stb_github
    GIT_REPOSITORY https://github.com/nothings/stb.git
    # latest of master branch as of 8/22/2025
    GIT_TAG f58f558c120e9b32c217290b80bad1a0729fbb2c
)

FetchContent_MakeAvailable(stb_github)

if(NOT EXISTS ${CMAKE_CURRENT_BINARY_DIR}/stb_implementation.cpp)
    set(STB_IMPLEMENTATION_CODE "// This file is auto-generated from cmake/depenendencies/STB.cmake
    #define STB_IMAGE_IMPLEMENTATION
    #include \"stb_image.h\"
    #define STB_PERLIN_IMPLEMENTATION
    #include \"stb_perlin.h\"
    //#include \"stb_vorbis.c\"
    ")

    file(WRITE ${CMAKE_CURRENT_BINARY_DIR}/stb_implementation.cpp ${STB_IMPLEMENTATION_CODE})
    set_source_files_properties(${CMAKE_CURRENT_BINARY_DIR}/stb_implementation.cpp PROPERTIES GENERATED TRUE)
endif()

add_library(the_stb STATIC ${CMAKE_CURRENT_BINARY_DIR}/stb_implementation.cpp)
target_include_directories(the_stb SYSTEM PUBLIC ${stb_github_SOURCE_DIR})




================================================
FILE: docs/DebuggingWeb.md
================================================
Error reading file with 'cp949': 'cp949' codec can't decode byte 0xe2 in position 1735: illegal multibyte sequence


================================================
FILE: docs/DevEnvironment.md
================================================
# Environment Setup

## Windows OS Setup

Install the following tools:

1. [**Visual Studio**](https://visualstudio.microsoft.com/downloads/)
   - Select C++-related packages during installation.
2. [**CMake**](https://cmake.org/download/)
   - Ensure it is available on the command line (`PATH`) if prompted.
3. [**Git SCM**](https://git-scm.com/downloads)
   - Ensure it is available on the command line (`PATH`) if prompted.
4. [**Ninja Build**](https://github.com/ninja-build/ninja/releases)
   - Manually add it to the command line (`PATH`).

## Web / Emscripten Setup

### Important Notice

**Do not use the Windows version of Emscripten for production.** Due to line-ending differences, generated output files may not work properly when uploaded to a web server. Instead, use Emscripten on a Linux-based OS such as macOS or Ubuntu (_[WSL](https://learn.microsoft.com/en-us/windows/wsl/install) works too_).

### Installation Steps

1. Review [Emscripten Platform-Specific Notes](https://emscripten.org/docs/getting_started/downloads.html#platform-notes-installation-instructions-sdk) for any prerequisites, such as Python 3.
2. Open a terminal and run:

```sh
   # Clone the emsdk repository
   git clone https://github.com/emscripten-core/emsdk.git

   # Navigate to the directory
   cd emsdk

   # Fetch the latest version of the SDK (if needed)
   git pull

   # Install the SDK tools
   ./emsdk install 4.0.13

   # Activate this version for the current user
   ./emsdk activate 4.0.13

   # Set environment variables for the current terminal session
   source ./emsdk_env.sh
```

### Emscripten Setup on Windows

If your main development platform is Windows, you should use [WSL](https://learn.microsoft.com/en-us/windows/wsl/install) for creating `Release` builds.

However, for debugging with breakpoints, `WSL` may not work reliably. In this case, install the Windows version of Emscripten in your **User** directory (e.g., `C:/Users/<your-username>`). Follow these steps:

```sh
# Navigate to your User directory
cd %USERPROFILE%

# Clone the emsdk repository
git clone https://github.com/emscripten-core/emsdk.git

# Navigate to the directory
cd emsdk

# Install the SDK tools
emsdk install 4.0.13

# Activate this version
emsdk activate 4.0.13
```

For more details on debugging, see [Web Debugging](DebuggingWeb.md).

## Ubuntu / Debian OS Setup

### Install Required Tools

You need **GNU development tools** such as `make`, `git`, and other dependencies:

```sh
sudo apt install build-essential git cmake ninja-build libsdl2-dev libglew-dev libopenal-dev
```

## macOS Setup

### Install Xcode

Xcode is the integrated development environment (IDE) for macOS and includes necessary C++ tools.

1. Open the **App Store** and search for "Xcode" to install it.
2. Launch Xcode after installation to complete the setup.
3. Open **Terminal** (Applications > Utilities or use Spotlight Search).
4. Run the following command to install Command Line Tools:

   ```sh
   xcode-select --install
   ```
5. Follow the on-screen instructions.

### Install Development Tools & Libraries

1. **Install Homebrew** (if not already installed):
   - Visit [Homebrew's website](https://brew.sh) and follow the installation instructions.

2. **Install CMake, SDL2, and GLEW using Homebrew**:
   ```sh
   brew install cmake ninja sdl2 glew openal-soft
   ```

This will install the required development tools and dependencies automatically.



================================================
FILE: source/CMakeLists.txt
================================================
# author Rudy Castan
# date 2025 Fall
# CS200 Computer Graphics I
# copyright DigiPen Institute of Technology

set_property(GLOBAL PROPERTY USE_FOLDERS ON)

set(SOURCE_CODE
    Engine/Engine.h Engine/Engine.cpp
    Engine/Error.h
    Engine/Font.h Engine/Font.cpp
    Engine/Fonts.h
    Engine/FPS.h
    Engine/GameState.h
    Engine/GameStateManager.h Engine/GameStateManager.cpp
    Engine/Input.h Engine/Input.cpp
    Engine/Logger.h Engine/Logger.cpp
    Engine/Matrix.h Engine/Matrix.cpp
    Engine/Path.h Engine/Path.cpp
    Engine/Random.h Engine/Random.cpp
    Engine/Rect.h
    Engine/Texture.h Engine/Texture.cpp
    Engine/TextureManager.h Engine/TextureManager.cpp
    Engine/TextManager.h Engine/TextManager.cpp
    Engine/Timer.h
    Engine/Vec2.h Engine/Vec2.cpp
    Engine/Window.h Engine/Window.cpp
    Engine/Animation.cpp Engine/Animation.h
    Engine/Camera.cpp Engine/Camera.h
    Engine/Collision.cpp Engine/Collision.h
    Engine/Component.h
    Engine/ComponentManager.h
    Engine/GameObject.cpp Engine/GameObject.h
    Engine/GameObjectManager.cpp Engine/GameObjectManager.h
    Engine/Particle.cpp Engine/Particle.h
    Engine/ShowCollision.cpp Engine/ShowCollision.h
    Engine/Sprite.cpp Engine/Sprite.h

    OpenGL/Buffer.h OpenGL/Buffer.cpp
    OpenGL/Environment.h
    OpenGL/Framebuffer.h OpenGL/Framebuffer.cpp
    OpenGL/GL.cpp OpenGL/GL.h
    OpenGL/GLConstants.h
    OpenGL/GLTypes.h
    OpenGL/Handle.h
    OpenGL/Shader.cpp OpenGL/Shader.h
    OpenGL/Texture.h OpenGL/Texture.cpp
    OpenGL/VertexArray.cpp OpenGL/VertexArray.h

    CS200/Image.h CS200/Image.cpp
    CS200/ImGuiHelper.h CS200/ImGuiHelper.cpp
    CS200/ImmediateRenderer2D.h CS200/ImmediateRenderer2D.cpp
    CS200/BatchRenderer2D.h CS200/BatchRenderer2D.cpp
    CS200/InstancedRenderer2D.h CS200/InstancedRenderer2D.cpp
    CS200/IRenderer2D.h
    CS200/NDC.h
    CS200/Renderer2DUtils.h CS200/Renderer2DUtils.cpp
    CS200/RenderingAPI.h CS200/RenderingAPI.cpp
    CS200/RGBA.h
    CS200/Shape.h CS200/Shape.cpp
    CS200/PostProcessingPipeline.h CS200/PostProcessingPipeline.cpp
    CS200/OffscreenFramebuffer.h CS200/OffscreenFramebuffer.cpp

    Demo/DemoDepthPost.h Demo/DemoDepthPost.cpp

    Game/Background.h Game/Background.cpp
    Game/GameObjectTypes.h
    Game/MainMenu.h Game/MainMenu.cpp
    Game/Particles.h
    Game/Score.h Game/Score.cpp
    Game/Splash.h Game/Splash.cpp
    Game/States.h

    main.cpp
)

add_executable(engine_porting ${SOURCE_CODE})
source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${SOURCE_CODE})

target_link_libraries(engine_porting PRIVATE project_options dependencies)
target_include_directories(engine_porting PRIVATE .)

# Check the IS_DEVELOPER_VERSION cache variable
# This is set by the cmake configure preset
if (IS_DEVELOPER_VERSION)
    target_compile_definitions(engine_porting PRIVATE DEVELOPER_VERSION)
endif()

if(EMSCRIPTEN)

    # https://emscripten.org/docs/tools_reference/settings_reference.html
    # ASSERTIONS=1                  - we want asserts to work
    # WASM=1                        - we want web assembly generated rather than just javascript
    # DISABLE_EXCEPTION_CATCHING=0  - we are using exceptions so let's not disable them
    # ALLOW_MEMORY_GROWTH=1         - we don't know exactly how much heap space we'll need so allow it to grow
    # EXIT_RUNTIME=1                - have exiting actually stop the program
    # SINGLE_FILE=1                 - generate everything into one html file
    # --embed-file                  - https://emscripten.org/docs/tools_reference/emcc.html#emcc-embed-file
    # --use-preload-cache           - help with faster reloads : https://emscripten.org/docs/compiling/Deploying-Pages.html#providing-a-quick-second-time-load
    # -lembind                      - to call c++ from javascript https://emscripten.org/docs/porting/connecting_cpp_and_javascript/embind.html
    # --shell-file                  - to customize the webpage https://emscripten.org/docs/compiling/Deploying-Pages.html#build-files-and-custom-shell
    target_link_options(engine_porting PRIVATE 
    -sASSERTIONS=$<$<BOOL:${IS_DEVELOPER_VERSION}>:1>$<$<NOT:$<BOOL:${IS_DEVELOPER_VERSION}>>:0>
    -sWASM=1 
    -sDISABLE_EXCEPTION_CATCHING=0 
    -sALLOW_MEMORY_GROWTH=1 
    -sEXIT_RUNTIME=1 
    -sSINGLE_FILE=1 
    --embed-file ${CMAKE_SOURCE_DIR}/Assets@/Assets
    --use-preload-cache
    -lembind
    --shell-file ${CMAKE_SOURCE_DIR}/app_resources/web/index_shell.html
    )

    set_target_properties(engine_porting PROPERTIES SUFFIX ".html")
elseif(WIN32)

    target_link_options(engine_porting PRIVATE 
        $<IF:$<BOOL:${IS_DEVELOPER_VERSION}>,/SUBSYSTEM:CONSOLE,/SUBSYSTEM:WINDOWS>
        /ENTRY:mainCRTStartup)

    set(ICON_RC ${CMAKE_CURRENT_BINARY_DIR}/app.rc)
    if(NOT EXISTS ${ICON_RC})
        set(ICON_FILE ${CMAKE_SOURCE_DIR}/app_resources/windows/icon.ico)
        file(WRITE ${ICON_RC} "IDR_MAINFRAME ICON \"${ICON_FILE}\"\nIDI_ICON1 ICON DISCARDABLE \"${ICON_FILE}\"")
    endif()

    target_sources(engine_porting PRIVATE ${ICON_RC})

endif()


